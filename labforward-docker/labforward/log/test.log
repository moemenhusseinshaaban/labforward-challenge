  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "data_points"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "data_points" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "point" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191025133018)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-25 19:39:25.718393"], ["updated_at", "2019-10-25 19:39:25.718393"]]
  [1m[35m (26.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "8da3782d637136db9828f0a5f7d20d3760a4ce4f"], ["created_at", "2019-10-25 19:39:25.768018"], ["updated_at", "2019-10-25 19:39:25.768018"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "data_points"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "data_points" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "point" float NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191025133018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-25 21:25:41.742424"], ["updated_at", "2019-10-25 21:25:41.742424"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "c2c87c18677f654a4565c1e9ec6dfb9370b059ad"], ["created_at", "2019-10-25 21:25:41.749212"], ["updated_at", "2019-10-25 21:25:41.749212"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (6.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (8.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (5.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (6.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.917507544637362], ["created_at", "2019-10-26 19:10:00.496857"], ["updated_at", "2019-10-26 19:10:00.496857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:26:14.971504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:26:14.975576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:26:14.978991"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:26:14.980917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:26:14.982674"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:26:14.985050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:26:14.987402"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:26:15.005328"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:26:15.011452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:26:15.013892"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (18.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:26:15.015721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:26:15.035709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:26:15.037273"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/data_points/sudden_peaks?from=2019-10-14&to=2019-10-26&threshold=3" for 127.0.0.1 at 2019-10-26 22:26:15 +0300
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (22.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:26:31.224186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:26:31.227392"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:26:31.229648"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:26:31.232632"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:26:31.234409"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (108.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:26:31.235921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:26:31.347117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:26:31.351355"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:26:31.353243"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:26:31.354995"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:26:31.356631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:26:31.363763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:26:31.371750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:26:31 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"from"=>"2019-10-14", "to"=>"2019-10-26", "threshold"=>"3"}
[Exception]: no implicit conversion of nil into String
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `parse'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:27:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 379)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:27:02.821735"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:27:02.824715"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:27:02.828265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:27:02.829687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:27:02.830880"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:27:02.832200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:27:02.833612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:27:02.835713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:27:02.836947"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:27:02.838650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:27:02.840912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:27:02.851272"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:27:02.853777"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mDataPoint Load (0.3ms)[0m  [1m[34mSELECT "data_points".* FROM "data_points" ORDER BY "data_points"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mDataPoint Load (0.1ms)[0m  [1m[34mSELECT "data_points".* FROM "data_points" ORDER BY "data_points"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:27:39 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"from"=>"2019-10-14", "to"=>"2019-10-26", "threshold"=>"3"}
[Exception]: no implicit conversion of nil into String
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `parse'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 381)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (6.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:28:04.395524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:28:04.397617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:28:04.404002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:28:04.405479"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:28:04.406794"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:28:04.408988"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:28:04.411232"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:28:04.413329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:28:04.415258"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:28:04.425183"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:28:04.427921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:28:04.430543"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:28:04.433881"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:28:04 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"from"=>"2019-10-14", "to"=>"2019-10-26", "threshold"=>"3"}
[Exception]: no implicit conversion of nil into String
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `parse'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 379)
  [1m[35m (20.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (13.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:28:33.302717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (5.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:28:33.604375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:28:33.612329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:28:33.614439"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (36.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:28:33.621352"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:28:33.661235"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:28:33.708623"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:28:33.710909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:28:33.713033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:28:33.717825"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:28:33.731620"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:28:33.733488"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:28:33.735036"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:28:33 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"from"=>"2019-10-14", "to"=>"2019-10-26", "threshold"=>"3"}
[Exception]: no implicit conversion of nil into String
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `parse'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 379)
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:30:05.167313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:30:05.170634"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:30:05.173156"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:30:05.175720"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:30:05.178074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:30:05.192091"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:30:05.194477"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:30:05.196205"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:30:05.198358"]]
  [1m[35m (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:30:05.202064"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:30:05.203704"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:30:05.205525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:30:05.207558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:30:05 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"from"=>"2019-10-14", "to"=>"2019-10-26", "threshold"=>"3"}
[Exception]: no implicit conversion of nil into String
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `parse'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:3:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 379)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:33:17.283895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:33:17.287485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:33:17.290025"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:33:17.292245"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:33:17.294088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:33:17.295689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:33:17.340834"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:33:17.343631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:33:17.345252"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:33:17.346781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:33:17.348657"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:33:17.352946"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:33:17.354853"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:33:17 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"from"=>"2019-10-14", "to"=>"2019-10-26", "threshold"=>"3"}
[Exception]: no implicit conversion of nil into String
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:4:in `parse'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:4:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 9076ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 58776)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:33:44.133601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (3.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:33:44.137072"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:33:44.141975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:33:44.147404"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:33:44.149887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:33:44.151985"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:33:44.153902"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:33:44.158774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:33:44.173969"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:33:44.175694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:33:44.179664"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:33:44.184166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:33:44.185793"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:33:44 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
[Exception]: comparison of Integer with String failed
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `block in moving_z_score'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:17:in `moving_z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:11:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 1868ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 57514)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:33:58.665691"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:33:58.670923"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:33:58.673662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:33:58.675528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:33:58.677297"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:33:58.690622"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:33:58.708484"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:33:58.711651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:33:58.714190"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:33:58.724663"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:33:58.726863"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:33:58.728842"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:33:58.730675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:33:58 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "data_points"[0m
[Exception]: comparison of Integer with String failed
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `block in moving_z_score'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:17:in `moving_z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:11:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 50005ms (Views: 0.3ms | ActiveRecord: 1.1ms | Allocations: 95055)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:35:08.696592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:35:08.698570"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:35:08.700947"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:35:08.703986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:35:08.705128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:35:08.706322"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:35:08.707839"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:35:08.710885"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:35:08.713764"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:35:08.716486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:35:08.721878"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:35:08.724650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:35:08.726735"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:35:08 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
[Exception]: comparison of Integer with String failed
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `block in moving_z_score'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:17:in `moving_z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:11:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:28:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 31263ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 59546)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:36:04.815189"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:36:04.818144"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:36:04.823095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:36:04.824803"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:36:04.826330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (51.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:36:04.828846"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:36:04.882289"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:36:04.884570"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:36:04.888712"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:36:04.894236"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:36:04.898339"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:36:04.900998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:36:04.910005"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:36:04 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 2320ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 57765)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:36:37.409618"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:36:37.411737"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:36:37.413715"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:36:37.415716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:36:37.416883"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:36:37.418559"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:36:37.422192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:36:37.423936"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:36:37.425500"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:36:37.427011"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:36:37.429859"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:36:37.433575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:36:37.435489"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:36:37 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 35062ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 57765)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:38:15.858093"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:38:15.861944"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:38:15.864718"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:38:15.868428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:38:15.871222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:38:15.873074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:38:15.874765"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:38:15.876724"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:38:15.878626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:38:15.880606"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:38:15.883578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:38:15.890202"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:38:15.892176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:38:15 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 1396ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 57755)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:39:02.066784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:39:02.068933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:39:02.072678"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:39:02.081359"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:39:02.082937"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:39:02.084680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:39:02.086285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:39:02.088174"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:39:02.115751"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:39:02.117152"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:39:02.119276"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:39:02.124275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:39:02.128887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:39:02 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1192)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:40:08.945888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:40:08.952187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:40:08.954702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:40:08.957681"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:40:08.960032"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:40:08.971519"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:40:08.985990"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:40:08.988324"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:40:08.991064"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:40:09.002095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:40:09.010427"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:40:09.012423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:40:09.015007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:40:09 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1192)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:44:37.129718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:44:37.131726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:44:37.133660"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:44:37.136575"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:44:37.138871"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:44:37.140637"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:44:37.143852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:44:37.146067"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:44:37.148082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:44:37.150527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:44:37.160555"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:44:37.162321"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:44:37.164509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:44:37 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1192)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (5.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:50:16.073529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:50:16.076201"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:50:16.080725"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:50:16.083046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:50:16.084460"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:50:16.086521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:50:16.088315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:50:16.089895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:50:16.092368"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:50:16.098471"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:50:16.101582"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:50:16.105955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:50:16.109544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:50:16 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 51ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1192)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 19:54:16.377350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 19:54:16.383317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 19:54:16.385497"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 19:54:16.387922"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 19:54:16.394058"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 19:54:16.396586"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 19:54:16.398138"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 19:54:16.401387"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 19:54:16.417569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 19:54:16.423241"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 19:54:16.447724"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 19:54:16.449750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 19:54:16.465821"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 22:54:16 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1226)
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:03:31.559265"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:03:31.564951"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:03:31.568958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:03:31.570796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:03:31.572651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:03:31.574948"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:03:31.577058"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:03:31.581191"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:03:31.584283"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:03:31.586175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:03:31.595066"]]
  [1m[35m (2.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:03:31.607855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:03:31.613232"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:03:31 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1249)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:03:31.713070"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:03:31.717379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (51.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:03:31.722125"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:03:31.776299"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:03:31.778236"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:03:31.783405"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:03:31.786350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:03:31.791817"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:03:31.793415"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:03:31.794962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:03:31.796558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:03:31.798407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:03:31.800900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:03:31 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-26", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-26 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 493)
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (4.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:03:53.077347"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:03:53.095307"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:03:53.100421"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:03:53.102405"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:03:53.104177"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:03:53.184464"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:03:53.187877"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:03:53.190694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:03:53.192720"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:03:53.241988"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:03:53.246391"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:03:53.254507"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:03:53.258161"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:03:53 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1249)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:03:53.351934"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:03:53.354358"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:03:53.356641"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:03:53.456686"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:03:53.458897"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:03:53.462523"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:03:53.465066"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:03:53.467561"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:03:53.474065"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:03:53.476164"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:03:53.477706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:03:53.479200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:03:53.480770"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:03:53 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-26", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:05:59.502305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:05:59.506226"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:05:59.518912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:05:59.521280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (8.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:05:59.522850"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:05:59.547637"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:05:59.554844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:05:59.556973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:05:59.560973"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:05:59.563171"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:05:59.565047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (26.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:05:59.568955"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:05:59.600016"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:05:59 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1249)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:05:59 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-26", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:10:18.555002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (8.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:10:18.557822"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:10:18.568689"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:10:18.570522"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:10:18.572453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:10:18.574209"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:10:18.592204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:10:18.594982"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:10:18.600826"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:10:18.710810"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:10:18.712709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:10:18.714699"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:10:18.717755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:10:18 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1249)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:10:18 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-26", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (4.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 20:11:03.891405"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 20:11:03.899701"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 20:11:03.902375"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 20:11:03.904418"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 20:11:03.906684"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 20:11:03.912133"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 20:11:03.914346"]]
  [1m[35m (4.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 20:11:03.922765"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 20:11:03.924373"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 20:11:03.926050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 20:11:03.935146"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 20:11:03.936998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-14 00:00:00"], ["updated_at", "2019-10-26 20:11:03.938574"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:11:03 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-14", "date_to"=>"2019-10-26", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-14 00:00:00"], ["created_at", "2019-10-26 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1250)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-26 23:11:04 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-26", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:00:40.020315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:00:40.023354"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:00:40.026965"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:00:40.028612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:00:40.031158"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:00:40.036866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:00:40.038652"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:00:40.041478"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:00:40.043344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:00:40.045985"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:00:40.059382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:00:40.063111"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:00:40.071868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:00:40 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1251)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:00:40 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 489)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (39.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:01:12.949186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:01:13.027405"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:01:13.029640"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:01:13.031378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:01:13.036363"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:01:13.038921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:01:13.041592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:01:13.043203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:01:13.044807"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:01:13.046315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:01:13.047829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:01:13.051198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:01:13.053601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:01:13 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1251)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:01:13 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 489)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (3.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:01:46.661676"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:01:46.678282"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:01:46.682124"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:01:46.686939"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:01:46.695240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:01:46.726971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:01:46.728574"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:01:46.737018"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:01:46.740911"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:01:46.742811"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:01:46.744845"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:01:46.746683"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:01:46.751788"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:01:46 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 3982ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 57887)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:01:50 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 2417ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3448)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:02:18.713176"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:02:18.715117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:02:18.717492"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:02:18.719599"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:02:18.721443"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:02:18.723166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:02:18.735184"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:02:18.746549"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:02:18.765105"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:02:18.772346"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:02:18.786368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:02:18.794658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:02:18.797193"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:02:18 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 1642ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 57890)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:02:20.488371"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:02:20.493049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:02:20.495870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:02:20.498434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:02:20.500368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:02:20.502830"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:02:20.504916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:02:20.508717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:02:20.511843"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:02:20.515608"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:02:20.519317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:02:20.522098"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:02:20.525834"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:02:20 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 596ms (Views: 0.7ms | ActiveRecord: 0.6ms | Allocations: 3452)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:02:48.443382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (83.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:02:48.447100"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:02:48.556017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:02:48.558292"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:02:48.562876"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:02:48.564495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:02:48.566017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:02:48.572145"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:02:48.574014"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:02:48.575702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:02:48.577922"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:02:48.579890"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:02:48.581736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:02:48 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 13372ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 58009)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:03:02.041361"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:03:02.044329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:03:02.047149"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:03:02.051995"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:03:02.053855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:03:02.056552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:03:02.059388"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (3.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:03:02.064462"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (6.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:03:02.086378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:03:02.098763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:03:02.104571"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:03:02.107179"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:03:02.110979"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:03:02 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 1693ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 3539)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (6.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:03:34.274584"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:03:34.287675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:03:34.293323"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:03:34.312014"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:03:34.318901"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:03:34.327737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:03:34.329867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:03:34.336086"]]
  [1m[35m (3.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:03:34.343514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:03:34.345488"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:03:34.348743"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:03:34.351308"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:03:34.353227"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:03:34 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 4631ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 57972)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:03:39 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 4611ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 3533)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:04:33.017172"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (4.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:04:33.024224"]]
  [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:04:33.057676"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:04:33.061903"]]
  [1m[35m (6.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:04:33.078266"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:04:33.094350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:04:33.098388"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:04:33.105584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:04:33.108170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:04:33.112127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:04:33.114509"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:04:33.118742"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:04:33.121028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:04:33 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 2536ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 57956)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:04:45.797926"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:04:45.809905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:04:45.812312"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:04:45.814433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:04:45.816623"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:04:45.820385"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:04:45.822312"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:04:45.824131"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:04:45.825741"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:04:45.827366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:04:45.830975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:04:45.833756"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:04:45.838500"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:04:45 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 1826ms (Views: 0.8ms | ActiveRecord: 0.6ms | Allocations: 57956)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:04:47 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 1188ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 3514)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:05:57 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 299)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:06:45.710705"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:06:45.713896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:06:45.720334"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:06:45.723330"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (7.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:06:45.765358"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:06:45.778331"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:06:45.792906"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:06:45.798230"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:06:45.801433"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:06:45.803491"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:06:45.805721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:06:45.807730"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:06:45.809798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:06:45 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 31855ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 59152)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:07:17 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 62848ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 4168)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:08:32.706293"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:08:32.709417"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:08:32.713075"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:08:32.714976"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:08:32.716763"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:08:32.718715"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:08:32.723468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:08:32.725256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:08:32.726946"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:08:32.728652"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:08:32.730482"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:08:32.734651"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:08:32.741582"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:08:32 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 3095ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 58404)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:11:29 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-27", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-27 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 965ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 4655)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (10.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:11:54.827719"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:11:54.840850"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:11:54.843976"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:11:54.846104"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:11:54.847711"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:11:54.859019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:11:54.861848"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:11:54.872576"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:11:54.878336"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:11:54.896888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:11:54.899525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:11:54.901801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:11:54.903748"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:11:54 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1251)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:11:54 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:12:23.053838"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:12:23.056730"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:12:23.058749"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:12:23.063006"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:12:23.065088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:12:23.068845"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:12:23.070647"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:12:23.072359"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:12:23.078969"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:12:23.081040"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:12:23.110694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:12:23.113281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:12:23.120088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:12:23 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1251)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:12:23 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:12:42.360080"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:12:42.362419"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:12:42.364590"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:12:42.366056"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:12:42.367744"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:12:42.369415"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:12:42.370913"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:12:42.380826"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:12:42.383348"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:12:42.389915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:12:42.394937"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:12:42.408240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:12:42.409825"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:12:42 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1250)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:12:42 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:21:44.450010"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:21:44.452988"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:21:44.454930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:21:44.480166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:21:44.482323"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:21:44.485289"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:21:44.489856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:21:44.492458"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:21:44.496998"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:21:44.500437"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:21:44.504118"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:21:44.508888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:21:44.511993"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:21:44 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1251)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:21:44 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:26:40.084809"]]
  [1m[35m (16.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:26:40.105057"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:26:40.107745"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:26:40.110780"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:26:40.114710"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:26:40.161524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:26:40.163402"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:26:40.165199"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:26:40.171577"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:26:40.175158"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:26:40.177148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:26:40.179796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:26:40.181790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:26:40 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: undefined method `z_score' for [1.0, 1.1, 0.9, 1.0, 1.0, 1.2, 2.5, 2.3, 2.4, 1.1, 0.8, 1.2, 1.0]:NumericArrayCalculation
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:27:in `block in moving_z_score'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:23:in `moving_z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 14ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 2446)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:26:40 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:27:14.955268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:27:14.959065"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:27:14.964303"]]
  [1m[35m (1.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:27:14.970405"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:27:14.973108"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:27:14.977166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:27:14.979386"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:27:14.982737"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:27:14.984430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:27:14.986051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (12.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:27:14.987759"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:27:15.018811"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:27:15.020587"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:27:15 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 10ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1266)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:27:15 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (11.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (16.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:27:32.982486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:27:33.019879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (7.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:27:33.027266"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:27:33.039349"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (13.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:27:33.043040"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:27:33.062943"]]
  [1m[35m (4.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:27:33.070835"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:27:33.072712"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:27:33.074452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:27:33.076110"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:27:33.077693"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:27:33.079529"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:27:33.081309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:27:33 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1263)
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:27:33 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:33:36.339466"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:33:36.341376"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:33:36.343049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:33:36.344469"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:33:36.346473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:33:36.348407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:33:36.349745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (2.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:33:36.350962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:33:36.356485"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:33:36.362166"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:33:36.365420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:33:36.369298"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:33:36.372333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:33:36 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1282)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:33:36 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:34:59.760048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:34:59.762510"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:34:59.764310"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:34:59.765679"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:34:59.767115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:34:59.768400"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:34:59.769857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:34:59.772667"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:34:59.777720"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:34:59.783143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:34:59.785339"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:34:59.788859"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:34:59.791423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:34:59 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: no implicit conversion of Float into Array
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:9:in `-'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:9:in `z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:34:in `block in moving_z_score'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:30:in `moving_z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 11ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 1365)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:34:59 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:35:09.501940"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:35:09.507555"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:35:09.512361"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:35:09.520436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:35:09.523513"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:35:09.527272"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:35:09.535565"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:35:09.540463"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:35:09.547136"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:35:09.554673"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:35:09.559868"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:35:09.566010"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:35:09.574272"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:35:09 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1282)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:35:09 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:38:02.350379"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:38:02.355050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:38:02.358748"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:38:02.362773"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:38:02.367387"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:38:02.375564"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:38:02.379899"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:38:02.384170"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:38:02.388741"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:38:02.396698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:38:02.400371"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:38:02.406165"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:38:02.417442"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:38:02 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: comparison of Integer with Hash failed
[Backtrace]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:13:in `>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:13:in `signal'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:35:in `block in moving_z_score'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/core_ext/range/each.rb:9:in `each'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:30:in `moving_z_score'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 7ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1366)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:38:02 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-26 21:38:14.884537"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-26 21:38:14.987770"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (12.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-26 21:38:14.995078"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-26 21:38:15.015883"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (44.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-26 21:38:15.019855"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-26 21:38:15.069479"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-26 21:38:15.073480"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-26 21:38:15.078267"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-26 21:38:15.082779"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-26 21:38:15.086800"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-26 21:38:15.091420"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-26 21:38:15.095449"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-26 21:38:15.100585"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:38:15 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 19ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 1282)
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 00:38:15 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 08:10:40.732547"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 08:10:40.735948"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 08:10:40.738200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 08:10:40.739981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 08:10:40.741481"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 08:10:40.743054"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 08:10:40.746519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 08:10:40.749326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 08:10:40.751496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 08:10:40.753629"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 08:10:40.755277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 08:10:40.757138"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 08:10:40.758760"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 11:10:40 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1282)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 11:10:40 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:52:48.699072"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:52:48.714092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:52:48.716125"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:52:48.718448"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:52:48.720232"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:52:48.722467"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:52:48.725348"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:52:48.727346"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:52:48.731968"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:52:48.734924"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:52:48.737925"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:52:48.739668"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:52:48.742123"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:52:48 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:52: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:57: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1175)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:52:48 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:53:27.582412"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:53:27.585569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:53:27.588521"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:53:27.590309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:53:27.591881"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:53:27.593420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:53:27.596334"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:53:27.598476"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:53:27.603995"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:53:27.608044"]]
  [1m[35m (3.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:53:27.641806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:53:27.643492"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:53:27.650265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:53:27 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:52: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:57: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 16ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1173)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:53:27 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:53:41.931153"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:53:41.933913"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:53:41.955449"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:53:41.958247"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:53:41.960578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:53:41.962079"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:53:41.963571"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:53:41.965197"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:53:41.967220"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:53:41.969555"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:53:41.973381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:53:41.976693"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:53:41.987200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:53:42 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:27: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:53: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:58: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 33ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 1174)
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:53:42 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (3.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:54:38.243741"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:54:38.247517"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:54:38.250505"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:54:38.252158"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:54:38.253694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:54:38.255303"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:54:38.256945"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:54:38.270077"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:54:38.271810"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:54:38.279252"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:54:38.281108"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:54:38.283110"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:54:38.286514"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:54:38 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:53: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:58: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 1174)
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:54:38 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:55:00.890772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:55:00.893476"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:55:00.896496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:55:00.911384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:55:00.913797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:55:00.917112"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:55:00.922788"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:55:00.924852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:55:01.086932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:55:01.088537"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:55:01.090060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:55:01.091626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:55:01.093269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:55:01 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:53: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:58: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1174)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:55:01 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:55:17.276852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:55:17.279711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:55:17.281592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:55:17.283157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:55:17.284732"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:55:17.286436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:55:17.288124"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:55:17.292404"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:55:17.294516"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:55:17.296887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:55:17.298691"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:55:17.302488"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:55:17.304110"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:55:17 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:53: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:58: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 6ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1174)
  [1m[35m (4.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:55:17 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:56:11.467987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:56:11.471624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:56:11.474659"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:56:11.476009"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:56:11.477330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:56:11.478860"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:56:11.480264"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:56:11.484112"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:56:11.488400"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:56:11.493105"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:56:11.495880"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:56:11.499146"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:56:11.503787"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:56:11 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:52: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:57: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:8:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 12572ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 62203)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:56:24 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:57:12.770798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:57:12.775758"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:57:12.779539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:57:12.781490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:57:12.783139"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:57:12.788370"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:57:12.789975"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:57:12.792843"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:57:12.795030"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:57:12.797291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:57:12.800288"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:57:12.802671"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:57:12.804356"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:57:12 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:8:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 4258ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 59114)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:57:17 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:57:37.604852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:57:37.608519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:57:37.613485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:57:37.615672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:57:37.618843"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:57:37.622887"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:57:37.625816"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:57:37.628274"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:57:37.631230"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:57:37.634300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:57:37.638162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:57:37.642125"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:57:37.643812"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:57:37 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:8:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 5327ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 62439)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:57:43 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 2ms (Views: 0.6ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 11:58:11.140469"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 11:58:11.144337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 11:58:11.147008"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 11:58:11.149067"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 11:58:11.151324"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 11:58:11.153862"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 11:58:11.155790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 11:58:11.157747"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 11:58:11.161016"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 11:58:11.173374"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 11:58:11.175607"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 11:58:11.178132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 11:58:11.181412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:58:11 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:26: duplicated argument name
...ent_array(array, element, array, old_mean, old_standard_devi...
...                          ^~~~~
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:8:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 6253ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 62712)
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 14:58:17 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.0ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 12:11:01.805619"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 12:11:01.809195"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 12:11:01.812901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 12:11:01.815048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 12:11:01.816921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 12:11:01.820303"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 12:11:01.822573"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.5ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 12:11:01.837255"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 12:11:01.840734"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 12:11:01.843198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 12:11:01.845962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 12:11:01.849900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 12:11:01.851893"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:11:01 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
[Exception]: /Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:52: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.shift_array(new_a...
...                              ^
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/lib/numeric_array_calculation.rb:57: syntax error, unexpected '=', expecting keyword_end
...ew_array, new_mean, new_stdv] = self.class.add_element(new_a...
...                              ^
[Backtrace]: /Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `block in require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:21:in `require_with_bootsnap_lfi'
/Users/moemen/.gem/ruby/2.5.3/gems/bootsnap-1.4.5/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:30:in `require'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/zeitwerk-2.2.0/lib/zeitwerk/kernel.rb:16:in `require'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/app/controllers/data_points_controller.rb:7:in `sudden_peaks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:196:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rendering.rb:30:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:42:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:135:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/callbacks.rb:41:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/rescue.rb:22:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `block in instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/notifications.rb:180:in `instrument'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/instrumentation.rb:32:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/activerecord-6.0.0/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/abstract_controller/base.rb:136:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:191:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_controller/metal.rb:252:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:51:in `dispatch'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:33:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:49:in `block in serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `each'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/journey/router.rb:32:in `serve'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/routing/route_set.rb:837:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/etag.rb:25:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/conditional_get.rb:38:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/head.rb:12:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/callbacks.rb:101:in `run_callbacks'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:38:in `call_app'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `block in call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:28:in `tagged'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/tagged_logging.rb:80:in `tagged'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/rack/logger.rb:26:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/request_id.rb:27:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/runtime.rb:22:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/activesupport-6.0.0/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/executor.rb:14:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/static.rb:126:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-2.0.7/lib/rack/sendfile.rb:111:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/middleware/host_authorization.rb:77:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/railties-6.0.0/lib/rails/engine.rb:526:in `call'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'
/Users/moemen/.rubies/ruby-2.5.3/lib/ruby/gems/2.5.0/gems/rack-test-1.1.0/lib/rack/test.rb:119:in `request'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:270:in `process'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:24:in `post'
/Users/moemen/.gem/ruby/2.5.3/gems/actionpack-6.0.0/lib/action_dispatch/testing/integration.rb:357:in `block (2 levels) in <module:Runner>'
/Applications/XAMPP/xamppfiles/htdocs/moemen/labforward-challenge/labforward-docker/labforward/spec/integration/data_points_spec.rb:30:in `block (5 levels) in <top (required)>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:257:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `block in with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `block in with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:612:in `block in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-rails-3.9.0/lib/rspec/rails/adapters.rb:127:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:450:in `instance_exec'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:381:in `execute_with'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:614:in `block (2 levels) in run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:345:in `call'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:615:in `run_around_example_hooks_for'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/hooks.rb:472:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:460:in `with_around_example_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:503:in `with_around_and_singleton_context_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example.rb:254:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:633:in `block in run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:629:in `run_examples'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:595:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `block in run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/example_group.rb:596:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `map'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/configuration.rb:2031:in `with_suite_hooks'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/reporter.rb:74:in `report'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:115:in `run_specs'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:89:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:71:in `run'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/lib/rspec/core/runner.rb:45:in `invoke'
/Users/moemen/.gem/ruby/2.5.3/gems/rspec-core-3.9.0/exe/rspec:4:in `<top (required)>'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `load'
/Users/moemen/.gem/ruby/2.5.3/bin/rspec:23:in `<main>'
Completed 500 Internal Server Error in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1173)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:11:02 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 207)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (4.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.9ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 12:13:30.797881"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 12:13:30.801213"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 12:13:30.803653"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 12:13:30.806032"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 12:13:30.807946"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 12:13:30.809667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 12:13:30.812882"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 12:13:30.814737"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 12:13:30.829434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 12:13:30.950097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 12:13:30.986972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 12:13:30.989493"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 12:13:30.992978"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:13:31 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1353)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:13:31 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.7ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 12:54:26.466655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.6ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 12:54:26.471048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 12:54:26.473406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 12:54:26.474753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 12:54:26.476091"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 12:54:26.481337"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 12:54:26.487343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 12:54:26.491436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 12:54:26.493808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 12:54:26.495195"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 12:54:26.496486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 12:54:26.497709"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 12:54:26.498850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:54:26 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1353)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:54:26 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 12:54:59.200604"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (1.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 12:54:59.203577"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 12:54:59.206451"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 12:54:59.209042"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 12:54:59.211933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 12:54:59.214922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 12:54:59.216323"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 12:54:59.218883"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 12:54:59.221862"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 12:54:59.224285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 12:54:59.226745"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 12:54:59.229559"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 12:54:59.233931"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:54:59 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1353)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 15:54:59 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.8ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 15:00:03.580337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 15:00:03.583280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 15:00:03.584750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 15:00:03.585886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 15:00:03.587031"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 15:00:03.588133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 15:00:03.589172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 15:00:03.590218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 15:00:03.591300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.2ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 15:00:03.592849"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 15:00:03.594526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 15:00:03.595856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.1ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 15:00:03.597002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 18:00:03 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN ? AND ? ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1353)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 18:00:03 +0300
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (380.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "labforward_test"[0m
  [1m[35m (1533.2ms)[0m  [1m[35mCREATE DATABASE "labforward_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "data_points" CASCADE[0m
  [1m[35m (49.1ms)[0m  [1m[35mCREATE TABLE "data_points" ("id" bigserial primary key, "point" float NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191025133018)[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-10-27 16:27:53.760052"], ["updated_at", "2019-10-27 16:27:53.760052"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (95.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "9fc80cd3747e433502344c3fbc2802a27cfe4d11"], ["created_at", "2019-10-27 16:27:53.869518"], ["updated_at", "2019-10-27 16:27:53.869518"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (5.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.0], ["created_at", "2019-10-27 00:00:00"], ["updated_at", "2019-10-27 16:27:54.097398"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.2], ["created_at", "2019-10-26 00:00:00"], ["updated_at", "2019-10-27 16:27:54.106733"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 0.8], ["created_at", "2019-10-25 00:00:00"], ["updated_at", "2019-10-27 16:27:54.109837"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.1], ["created_at", "2019-10-24 00:00:00"], ["updated_at", "2019-10-27 16:27:54.112550"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 2.4], ["created_at", "2019-10-23 00:00:00"], ["updated_at", "2019-10-27 16:27:54.116086"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 2.3], ["created_at", "2019-10-22 00:00:00"], ["updated_at", "2019-10-27 16:27:54.118803"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 2.5], ["created_at", "2019-10-21 00:00:00"], ["updated_at", "2019-10-27 16:27:54.121618"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.2], ["created_at", "2019-10-20 00:00:00"], ["updated_at", "2019-10-27 16:27:54.124672"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.0], ["created_at", "2019-10-19 00:00:00"], ["updated_at", "2019-10-27 16:27:54.127425"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.0], ["created_at", "2019-10-18 00:00:00"], ["updated_at", "2019-10-27 16:27:54.130168"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.4ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 0.9], ["created_at", "2019-10-17 00:00:00"], ["updated_at", "2019-10-27 16:27:54.132935"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.1], ["created_at", "2019-10-16 00:00:00"], ["updated_at", "2019-10-27 16:27:54.135690"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDataPoint Create (0.3ms)[0m  [1m[32mINSERT INTO "data_points" ("point", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["point", 1.0], ["created_at", "2019-10-15 00:00:00"], ["updated_at", "2019-10-27 16:27:54.138542"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 16:27:54 +0000
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-15", "date_to"=>"2019-10-27", "threshold"=>"3"}
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "data_points"."point" FROM "data_points" WHERE "data_points"."created_at" BETWEEN $1 AND $2 ORDER BY "data_points"."created_at" ASC[0m  [["created_at", "2019-10-15 00:00:00"], ["created_at", "2019-10-27 23:59:59.999999"]]
Completed 200 OK in 21ms (Views: 0.3ms | ActiveRecord: 2.7ms | Allocations: 1912)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Started POST "/api/data_points/sudden_peaks" for 127.0.0.1 at 2019-10-27 16:27:54 +0000
Processing by DataPointsController#sudden_peaks as JSON
  Parameters: {"date_from"=>"2019-10-28", "date_to"=>"2019-10-27", "threshold"=>"3"}
Filter chain halted as :validate_parameters rendered or redirected
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 205)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
